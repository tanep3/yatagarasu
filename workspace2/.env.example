# Yatagarasu Workspace Environment Variables
# このファイルを .env としてコピーして、実際の値を設定してください

# =============================================================================
# go2rtc Settings
# =============================================================================
GO2RTC_HOST="localhost"
GO2RTC_API_PORT="1984"
GO2RTC_RTSP_PORT="8554"

# =============================================================================
# Tapo TC70 Camera Settings
# =============================================================================
# TapoカメラのIPアドレス
TAPO_HOST="192.168.0.xxx"

# Tapoアプリのユーザー名（admin固定）
TAPO_USER="admin"
# Tapoアプリのパスワード
TAPO_PASSWORD=""

# Tapoカメラのパスワード（Tapoアプリの「詳細設定」→「カメラアカウント」で作成）
TAPO_RTSP_USER="user"
TAPO_RTSP_PASSWORD=""

# =============================================================================
# Stream Settings
# =============================================================================
# デフォルトのストリーム名
STREAM="tapo_tc70"

# =============================================================================
# View Skill Settings (画像取得)
# =============================================================================
# 画像のデフォルトサイズ
WIDTH="640"
HEIGHT="480"

# JPEG品質 (1-100)
QUALITY="85"

# 画像保存先ディレクトリ
WORKSPACE_MEDIA="/home/<user>/yatagarasu/workspace/media"

# =============================================================================
# Speak Skill Settings (音声合成)
# =============================================================================
# デフォルトの話者ID
# 46: 小夜/SAYO
# 68: あいえるたん
# 0: 四国めたん
# 1: ずんだもん
SPEAKER_ID="68"

# =============================================================================
# Python Environment
# =============================================================================
# Pythonプロジェクトディレクトリ（Pytapo等を使用する場合）
PYTHON_DIR="/home/<user>/yatagarasu/python"

# =============================================================================
# listend Settings (音声認識)
# =============================================================================
# RTSP音声入力（go2rtc経由）
LISTEND_RTSP_URL="rtsp://localhost:8554/tapo_tc70"
# RTSPトランスポート（tcp / udp / auto）
# auto: tcp → udp の順に自動フォールバック（go2rtcはtcp推奨）
LISTEND_RTSP_TRANSPORT="tcp"

# Wake/Stopワード（カンマ区切り）
LISTEND_WAKE_WORDS="ヤタガラス"
LISTEND_STOP_WORDS="ストップ"

# STTバックエンド（faster-whisper / reazonspeech-k2）
LISTEND_STT_BACKEND="faster-whisper"
# 共通言語設定（未指定時のデフォルト）
LISTEND_STT_LANGUAGE="ja"

# --- faster-whisper 設定 ---
# faster-whisperモデル
LISTEND_WHISPER_MODEL="base"
# Whisper計算方式（CPU低負荷化: int8 推奨）
LISTEND_WHISPER_COMPUTE_TYPE="int8"
# 言語（ja / auto）
LISTEND_WHISPER_LANGUAGE="ja"
# beam size（精度優先なら 3-5 に上げる）
LISTEND_WHISPER_BEAM_SIZE="5"

# --- ReazonSpeech k2 設定 ---
# LISTEND_STT_BACKEND="reazonspeech-k2" の場合に使用
# 言語:
#   ja    = 日本語
#   ja-en = 日英混在（英語を使いたい場合はこちら）
LISTEND_REAZON_LANGUAGE="ja"
LISTEND_REAZON_DEVICE="cpu"
# precision: int8 / fp16 / fp32
LISTEND_REAZON_PRECISION="int8"

# VAD閾値
LISTEND_VAD_THRESHOLD="0.5"

# 短すぎる発話セグメントは文字起こししない（負荷抑制）
LISTEND_MIN_SEGMENT_SEC="0.2"

# OFF状態の連続文字起こしを抑制するクールダウン（秒）
# 0 で無効
LISTEND_OFF_TRANSCRIBE_COOLDOWN_SEC="0"

# 1ターン確定の無音秒数（ウェイク後、この秒数無音ならYatagarasuへ渡す）
LISTEND_SESSION_END_SILENCE_SEC="3"

# ON状態をOFFへ戻す無音秒数
LISTEND_SILENCE_TIMEOUT_SEC="30"

# ffmpegから音声バイトが来ない場合の再接続タイムアウト（秒）
LISTEND_NO_DATA_TIMEOUT_SEC="10"
# 音声待機中のハートビートログ間隔（秒）
LISTEND_HEARTBEAT_SEC="5"

# ログレベル（DEBUGにすると認識チャンクやマッチ詳細を表示）
LISTEND_LOG_LEVEL="INFO"

# 認識テキストの受け渡し先（未指定なら <workspaceの親>/bin/yatagarasu）
LISTEND_DISPATCH_CMD=""
